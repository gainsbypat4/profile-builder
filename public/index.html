<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Healthcare Profile Builder - MVP Demo</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- PDF.js for PDF parsing -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
  <!-- Mammoth.js for Word doc parsing -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mammoth/1.6.0/mammoth.browser.min.js"></script>
  <style>
    .animate-spin { animation: spin 1s linear infinite; }
    @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
    .drop-zone { transition: all 0.2s ease; }
    .drop-zone.drag-over { border-color: #3b82f6; background-color: #eff6ff; }
  </style>
</head>
<body>
  <div id="root"></div>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script>
    // Set PDF.js worker
    pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';

    // Hospital database
    const HOSPITAL_DATABASE = {
      "memorial regional medical center": { officialName: "Memorial Regional Medical Center", city: "Hollywood", state: "FL", beds: 472, traumaLevel: "Level I", teaching: true, emr: "Epic" },
      "memorial regional hospital": { officialName: "Memorial Regional Hospital", city: "Hollywood", state: "FL", beds: 472, traumaLevel: "Level I", teaching: true, emr: "Epic" },
      "cleveland clinic": { officialName: "Cleveland Clinic Main Campus", city: "Cleveland", state: "OH", beds: 1400, traumaLevel: "Level I", teaching: true, emr: "Epic" },
      "jackson memorial hospital": { officialName: "Jackson Memorial Hospital", city: "Miami", state: "FL", beds: 1547, traumaLevel: "Level I", teaching: true, emr: "Epic" },
      "mount sinai medical center": { officialName: "Mount Sinai Medical Center", city: "Miami Beach", state: "FL", beds: 672, traumaLevel: "Level II", teaching: true, emr: "Cerner" },
      "baptist hospital": { officialName: "Baptist Hospital of Miami", city: "Miami", state: "FL", beds: 728, traumaLevel: "Level II", teaching: false, emr: "Epic" },
      "adventhealth orlando": { officialName: "AdventHealth Orlando", city: "Orlando", state: "FL", beds: 1368, traumaLevel: "Level I", teaching: true, emr: "Cerner" },
      "tampa general hospital": { officialName: "Tampa General Hospital", city: "Tampa", state: "FL", beds: 1041, traumaLevel: "Level I", teaching: true, emr: "Epic" },
      "mayo clinic": { officialName: "Mayo Clinic", city: "Rochester", state: "MN", beds: 2059, traumaLevel: "Level I", teaching: true, emr: "Epic" },
      "johns hopkins hospital": { officialName: "Johns Hopkins Hospital", city: "Baltimore", state: "MD", beds: 1162, traumaLevel: "Level I", teaching: true, emr: "Epic" },
      "massachusetts general hospital": { officialName: "Massachusetts General Hospital", city: "Boston", state: "MA", beds: 1057, traumaLevel: "Level I", teaching: true, emr: "Epic" },
      "cedars-sinai medical center": { officialName: "Cedars-Sinai Medical Center", city: "Los Angeles", state: "CA", beds: 886, traumaLevel: "Level I", teaching: true, emr: "Epic" },
      "seton medical center": { officialName: "Seton Medical Center", city: "Austin", state: "TX", beds: 424, traumaLevel: "Level I", teaching: true, emr: "Epic" },
      "st. david's north austin medical center": { officialName: "St. David's North Austin Medical Center", city: "Austin", state: "TX", beds: 380, traumaLevel: "Level II", teaching: false, emr: "Meditech" },
      "st davids north austin medical center": { officialName: "St. David's North Austin Medical Center", city: "Austin", state: "TX", beds: 380, traumaLevel: "Level II", teaching: false, emr: "Meditech" }
    };

    const UNIT_TYPES = {
      "icu": { name: "Intensive Care Unit", acuity: "Critical", typicalRatio: "1:2", skills: ["Ventilator management", "Vasoactive drips", "Hemodynamic monitoring", "CRRT"] },
      "micu": { name: "Medical ICU", acuity: "Critical", typicalRatio: "1:2", skills: ["Ventilator management", "Sepsis protocols", "DKA management"] },
      "sicu": { name: "Surgical ICU", acuity: "Critical", typicalRatio: "1:2", skills: ["Post-op monitoring", "Wound care", "Drain management"] },
      "cvicu": { name: "Cardiovascular ICU", acuity: "Critical", typicalRatio: "1:2", skills: ["CABG recovery", "Balloon pump", "Swan-Ganz monitoring"] },
      "nicu": { name: "Neonatal ICU", acuity: "Critical", typicalRatio: "1:2-3", skills: ["Premature infant care", "Phototherapy", "Neonatal ventilation"] },
      "picu": { name: "Pediatric ICU", acuity: "Critical", typicalRatio: "1:2", skills: ["Pediatric assessment", "Family-centered care", "Growth/development"] },
      "er": { name: "Emergency Room", acuity: "Variable", typicalRatio: "1:4-6", skills: ["Triage", "Trauma response", "Rapid assessment"] },
      "ed": { name: "Emergency Department", acuity: "Variable", typicalRatio: "1:4-6", skills: ["Triage", "Trauma response", "Rapid assessment"] },
      "emergency": { name: "Emergency Department", acuity: "Variable", typicalRatio: "1:4-6", skills: ["Triage", "Trauma response", "Rapid assessment"] },
      "med-surg": { name: "Medical-Surgical", acuity: "Moderate", typicalRatio: "1:5-6", skills: ["Post-op care", "Medication administration", "Patient education"] },
      "medsurg": { name: "Medical-Surgical", acuity: "Moderate", typicalRatio: "1:5-6", skills: ["Post-op care", "Medication administration", "Patient education"] },
      "telemetry": { name: "Telemetry", acuity: "Moderate-High", typicalRatio: "1:4-5", skills: ["Cardiac monitoring", "Rhythm interpretation", "Chest pain protocols"] },
      "tele": { name: "Telemetry", acuity: "Moderate-High", typicalRatio: "1:4-5", skills: ["Cardiac monitoring", "Rhythm interpretation", "Chest pain protocols"] },
      "l&d": { name: "Labor & Delivery", acuity: "Variable", typicalRatio: "1:2", skills: ["Fetal monitoring", "C-section assist", "Postpartum hemorrhage"] },
      "labor and delivery": { name: "Labor & Delivery", acuity: "Variable", typicalRatio: "1:2", skills: ["Fetal monitoring", "C-section assist", "Postpartum hemorrhage"] },
      "postpartum": { name: "Postpartum", acuity: "Low-Moderate", typicalRatio: "1:4-6", skills: ["Breastfeeding support", "Newborn assessment", "C-section recovery"] },
      "oncology": { name: "Oncology", acuity: "Moderate-High", typicalRatio: "1:4-5", skills: ["Chemotherapy administration", "Port access", "Symptom management"] },
      "or": { name: "Operating Room", acuity: "Critical", typicalRatio: "1:1", skills: ["Sterile technique", "Surgical instruments", "Anesthesia support"] },
      "pacu": { name: "Post-Anesthesia Care", acuity: "High", typicalRatio: "1:2", skills: ["Airway management", "Pain control", "PONV management"] },
      "cath lab": { name: "Cardiac Cath Lab", acuity: "High", typicalRatio: "1:1", skills: ["Sheath management", "Cardiac monitoring", "Sedation"] },
      "dialysis": { name: "Dialysis", acuity: "Moderate", typicalRatio: "1:3-4", skills: ["Hemodialysis", "Fistula care", "Fluid management"] },
      "rehab": { name: "Rehabilitation", acuity: "Low-Moderate", typicalRatio: "1:5-7", skills: ["PT/OT coordination", "ADL assistance", "Discharge planning"] },
      "psych": { name: "Psychiatric", acuity: "Variable", typicalRatio: "1:5-6", skills: ["De-escalation", "Safety monitoring", "Therapeutic communication"] },
      "stepdown": { name: "Step-Down/PCU", acuity: "High", typicalRatio: "1:3-4", skills: ["Continuous monitoring", "NIV management", "Early mobility"] },
      "pcu": { name: "Progressive Care Unit", acuity: "High", typicalRatio: "1:3-4", skills: ["Continuous monitoring", "NIV management", "Drip titration"] }
    };

    function matchHospital(facilityName) {
      if (!facilityName) return null;
      const normalized = facilityName.toLowerCase().trim();
      if (HOSPITAL_DATABASE[normalized]) return HOSPITAL_DATABASE[normalized];
      for (const [key, data] of Object.entries(HOSPITAL_DATABASE)) {
        if (normalized.includes(key) || key.includes(normalized)) return data;
      }
      const words = normalized.split(' ').filter(w => w.length > 3);
      for (const [key, data] of Object.entries(HOSPITAL_DATABASE)) {
        const keyWords = key.split(' ').filter(w => w.length > 3);
        const matches = words.filter(w => keyWords.some(kw => kw.includes(w) || w.includes(kw)));
        if (matches.length >= 2) return data;
      }
      return null;
    }

    function matchUnitType(unitOrTitle) {
      if (!unitOrTitle) return null;
      const normalized = unitOrTitle.toLowerCase();
      for (const [key, data] of Object.entries(UNIT_TYPES)) {
        if (normalized.includes(key)) return data;
      }
      return null;
    }

    // PDF text extraction
    async function extractTextFromPDF(file) {
      const arrayBuffer = await file.arrayBuffer();
      const pdf = await pdfjsLib.getDocument({ data: arrayBuffer }).promise;
      let fullText = '';
      
      for (let i = 1; i <= pdf.numPages; i++) {
        const page = await pdf.getPage(i);
        const textContent = await page.getTextContent();
        const pageText = textContent.items.map(item => item.str).join(' ');
        fullText += pageText + '\n';
      }
      
      return fullText.trim();
    }

    // Word doc text extraction
    async function extractTextFromDocx(file) {
      const arrayBuffer = await file.arrayBuffer();
      const result = await mammoth.extractRawText({ arrayBuffer });
      return result.value.trim();
    }

    function App() {
      const [step, setStep] = React.useState(1);
      const [resumeText, setResumeText] = React.useState('');
      const [extractedData, setExtractedData] = React.useState(null);
      const [enrichedProfile, setEnrichedProfile] = React.useState(null);
      const [loading, setLoading] = React.useState(false);
      const [error, setError] = React.useState('');
      const [editingField, setEditingField] = React.useState(null);
      const [dragOver, setDragOver] = React.useState(false);
      const [fileName, setFileName] = React.useState('');
      const [fileProcessing, setFileProcessing] = React.useState(false);

      const handleFile = async (file) => {
        if (!file) return;
        
        setFileProcessing(true);
        setError('');
        setFileName(file.name);
        
        try {
          let text = '';
          const fileType = file.name.toLowerCase();
          
          if (fileType.endsWith('.pdf')) {
            text = await extractTextFromPDF(file);
          } else if (fileType.endsWith('.docx')) {
            text = await extractTextFromDocx(file);
          } else if (fileType.endsWith('.doc')) {
            setError('Old .doc format not supported. Please save as .docx or PDF.');
            setFileProcessing(false);
            return;
          } else if (fileType.endsWith('.txt')) {
            text = await file.text();
          } else {
            setError('Please upload a PDF, Word (.docx), or text file.');
            setFileProcessing(false);
            return;
          }
          
          if (text.trim().length < 50) {
            setError('Could not extract enough text from the file. Try pasting the resume instead.');
            setFileProcessing(false);
            return;
          }
          
          setResumeText(text);
        } catch (err) {
          console.error('File processing error:', err);
          setError('Error reading file: ' + err.message);
        }
        
        setFileProcessing(false);
      };

      const handleDrop = (e) => {
        e.preventDefault();
        setDragOver(false);
        const file = e.dataTransfer.files[0];
        handleFile(file);
      };

      const handleDragOver = (e) => {
        e.preventDefault();
        setDragOver(true);
      };

      const handleDragLeave = (e) => {
        e.preventDefault();
        setDragOver(false);
      };

      const handleFileInput = (e) => {
        const file = e.target.files[0];
        handleFile(file);
      };

      const loadSample = () => {
        setFileName('');
        setResumeText(`SARAH JOHNSON, RN, BSN
Phone: (305) 555-0147
Email: sarah.johnson@email.com
Miami, FL 33130

PROFESSIONAL SUMMARY
Dedicated Registered Nurse with 6+ years of experience in critical care and med-surg environments. Compact RN license. BLS, ACLS, PALS certified.

LICENSES & CERTIFICATIONS
- Registered Nurse, Florida Board of Nursing (Active)
- Compact/Multi-state License (NLC)
- BLS (American Heart Association) - Expires 2026
- ACLS (American Heart Association) - Expires 2026
- PALS (American Heart Association) - Expires 2025

WORK EXPERIENCE

Charge Nurse - ICU
Memorial Regional Medical Center | Hollywood, FL
March 2021 - Present
- Lead 18-bed intensive care unit on night shift
- Manage ventilator patients, CRRT, and vasoactive drips
- Precept new graduate nurses and travel nurses
- Coordinate with respiratory therapy and pharmacy

Staff Nurse - Med/Surg Telemetry
Jackson Memorial Hospital | Miami, FL
June 2018 - March 2021
- Provided care for 5-6 patients on 32-bed unit
- Telemetry monitoring and rhythm interpretation
- Medication administration and patient education

EDUCATION
Bachelor of Science in Nursing (BSN)
University of Miami | 2018`);
      };

      const extractData = async () => {
        if (!resumeText.trim()) {
          setError('Please paste a resume or upload a file first');
          return;
        }
        setLoading(true);
        setError('');
        
        try {
          const response = await fetch('/api/extract', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ resumeText })
          });
          
          if (!response.ok) {
            const errData = await response.json().catch(() => ({}));
            throw new Error(errData.error || 'API request failed');
          }
          
          const parsed = await response.json();
          setExtractedData(parsed);
          
          const enriched = {
            ...parsed,
            workHistory: (parsed.workHistory || []).map(job => {
              const hospitalData = matchHospital(job.facility);
              const unitData = matchUnitType(job.unit || job.title);
              return {
                ...job,
                enrichment: hospitalData ? {
                  officialName: hospitalData.officialName,
                  beds: hospitalData.beds,
                  traumaLevel: hospitalData.traumaLevel,
                  teaching: hospitalData.teaching,
                  emr: hospitalData.emr,
                  matched: true
                } : { matched: false },
                unitInfo: unitData
              };
            })
          };
          
          setEnrichedProfile(enriched);
          setStep(3);
        } catch (err) {
          console.error(err);
          setError(err.message || 'Failed to extract data. Please try again.');
        } finally {
          setLoading(false);
        }
      };

      const CheckCircle = () => (
        React.createElement('svg', { className: "w-5 h-5", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24" },
          React.createElement('path', { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M5 13l4 4L19 7" })
        )
      );

      const Spinner = () => (
        React.createElement('svg', { className: "animate-spin h-5 w-5 text-white", fill: "none", viewBox: "0 0 24 24" },
          React.createElement('circle', { className: "opacity-25", cx: "12", cy: "12", r: "10", stroke: "currentColor", strokeWidth: "4" }),
          React.createElement('path', { className: "opacity-75", fill: "currentColor", d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" })
        )
      );

      const UploadIcon = () => (
        React.createElement('svg', { className: "w-12 h-12 text-gray-400", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24" },
          React.createElement('path', { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 1.5, d: "M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" })
        )
      );

      const FileIcon = () => (
        React.createElement('svg', { className: "w-6 h-6 text-blue-500", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24" },
          React.createElement('path', { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" })
        )
      );

      return React.createElement('div', { className: "min-h-screen bg-gray-50 p-4" },
        React.createElement('div', { className: "max-w-4xl mx-auto" },
          
          // Header
          React.createElement('div', { className: "bg-white rounded-lg shadow-sm p-6 mb-6" },
            React.createElement('div', { className: "flex justify-between items-start" },
              React.createElement('div', null,
                React.createElement('h1', { className: "text-2xl font-bold text-gray-900" }, "Healthcare Profile Builder"),
                React.createElement('p', { className: "text-gray-600 mt-1" }, "AI-powered nurse profile enrichment â€” MVP Demo")
              ),
              React.createElement('span', { className: "px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm font-medium" }, "âœ¨ Real AI Extraction")
            ),
            
            // Progress Steps
            React.createElement('div', { className: "flex items-center mt-6" },
              [1, 2, 3].map((s, i) => React.createElement(React.Fragment, { key: s },
                React.createElement('div', { 
                  className: `flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium ${step >= s ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-500'}`
                }, step > s ? React.createElement(CheckCircle) : s),
                i < 2 && React.createElement('div', { className: `flex-1 h-1 mx-2 ${step > s ? 'bg-blue-600' : 'bg-gray-200'}` })
              )),
            ),
            React.createElement('div', { className: "flex justify-between mt-2 text-sm text-gray-600" },
              React.createElement('span', null, "Paste Resume"),
              React.createElement('span', null, "Extract Data"),
              React.createElement('span', null, "Review Profile")
            )
          ),

          // Step 1: Input
          step === 1 && React.createElement('div', { className: "bg-white rounded-lg shadow-sm p-6" },
            React.createElement('h2', { className: "text-lg font-semibold mb-4 flex items-center gap-2" }, "ðŸ“„ Upload or Paste Resume"),
            
            // File Upload Zone
            React.createElement('div', {
              className: `drop-zone border-2 border-dashed rounded-lg p-8 text-center mb-4 cursor-pointer ${dragOver ? 'drag-over border-blue-500 bg-blue-50' : 'border-gray-300 hover:border-gray-400'}`,
              onDrop: handleDrop,
              onDragOver: handleDragOver,
              onDragLeave: handleDragLeave,
              onClick: () => document.getElementById('fileInput').click()
            },
              React.createElement('input', {
                type: 'file',
                id: 'fileInput',
                className: 'hidden',
                accept: '.pdf,.docx,.doc,.txt',
                onChange: handleFileInput
              }),
              fileProcessing ? 
                React.createElement('div', { className: "flex flex-col items-center" },
                  React.createElement('div', { className: "animate-spin h-8 w-8 border-4 border-blue-500 border-t-transparent rounded-full mb-2" }),
                  React.createElement('p', { className: "text-gray-600" }, "Processing file...")
                ) :
              fileName ?
                React.createElement('div', { className: "flex flex-col items-center" },
                  React.createElement(FileIcon),
                  React.createElement('p', { className: "text-gray-900 font-medium mt-2" }, fileName),
                  React.createElement('p', { className: "text-green-600 text-sm" }, "âœ“ File loaded successfully")
                ) :
                React.createElement('div', { className: "flex flex-col items-center" },
                  React.createElement(UploadIcon),
                  React.createElement('p', { className: "text-gray-600 mt-2" }, "Drag & drop a file here, or click to browse"),
                  React.createElement('p', { className: "text-gray-400 text-sm mt-1" }, "Supports PDF, Word (.docx), and text files")
                )
            ),
            
            React.createElement('div', { className: "flex items-center gap-4 mb-4" },
              React.createElement('div', { className: "flex-1 h-px bg-gray-200" }),
              React.createElement('span', { className: "text-gray-400 text-sm" }, "or paste text below"),
              React.createElement('div', { className: "flex-1 h-px bg-gray-200" })
            ),
            
            React.createElement('textarea', {
              className: "w-full h-64 p-4 border border-gray-300 rounded-lg font-mono text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
              placeholder: "Paste resume text here...",
              value: resumeText,
              onChange: (e) => { setResumeText(e.target.value); setFileName(''); }
            }),
            
            React.createElement('div', { className: "flex gap-3 mt-4" },
              React.createElement('button', {
                onClick: loadSample,
                className: "px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50"
              }, "Load Sample Resume"),
              React.createElement('button', {
                onClick: () => setStep(2),
                disabled: !resumeText.trim(),
                className: `px-6 py-2 rounded-lg font-medium ${resumeText.trim() ? 'bg-blue-600 text-white hover:bg-blue-700' : 'bg-gray-200 text-gray-500 cursor-not-allowed'}`
              }, "Continue â†’")
            )
          ),

          // Step 2: Extract
          step === 2 && React.createElement('div', { className: "bg-white rounded-lg shadow-sm p-6" },
            React.createElement('h2', { className: "text-lg font-semibold mb-4 flex items-center gap-2" }, "ðŸ” Extract & Enrich Profile"),
            React.createElement('div', { className: "bg-gray-50 rounded-lg p-4 mb-4 max-h-64 overflow-y-auto" },
              React.createElement('pre', { className: "whitespace-pre-wrap font-mono text-sm text-gray-700" }, resumeText)
            ),
            React.createElement('div', { className: "bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4" },
              React.createElement('h3', { className: "font-medium text-blue-900 mb-2" }, "What happens next:"),
              React.createElement('ul', { className: "text-blue-800 text-sm space-y-1" },
                React.createElement('li', null, "â€¢ Claude AI extracts: Name, contact, work history, licenses, certifications"),
                React.createElement('li', null, "â€¢ System enriches: Hospital beds, trauma level, EMR, teaching status"),
                React.createElement('li', null, "â€¢ Auto-fills: Typical responsibilities by unit type")
              )
            ),
            error && React.createElement('div', { className: "bg-red-50 border border-red-200 rounded-lg p-4 mb-4 text-red-700" }, "âš  " + error),
            React.createElement('div', { className: "flex gap-3" },
              React.createElement('button', {
                onClick: () => setStep(1),
                className: "px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50"
              }, "â† Back"),
              React.createElement('button', {
                onClick: extractData,
                disabled: loading,
                className: "px-6 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 disabled:bg-green-400 flex items-center gap-2"
              }, loading ? React.createElement(Spinner) : null, loading ? "Extracting..." : "âœ“ Extract & Enrich")
            )
          ),

          // Step 3: Review
          step === 3 && enrichedProfile && React.createElement('div', { className: "space-y-6" },
            // Contact Card
            React.createElement('div', { className: "bg-white rounded-lg shadow-sm p-6" },
              React.createElement('h2', { className: "text-xl font-bold text-gray-900" }, enrichedProfile.name || "Unknown"),
              React.createElement('div', { className: "mt-2 text-gray-600 space-y-1" },
                enrichedProfile.phone && React.createElement('p', null, "ðŸ“ž ", enrichedProfile.phone),
                enrichedProfile.email && React.createElement('p', null, "âœ‰ï¸ ", enrichedProfile.email),
                enrichedProfile.location && React.createElement('p', null, "ðŸ“ ", enrichedProfile.location)
              )
            ),
            
            // Licenses
            enrichedProfile.licenses && enrichedProfile.licenses.length > 0 && React.createElement('div', { className: "bg-white rounded-lg shadow-sm p-6" },
              React.createElement('h3', { className: "font-semibold text-gray-900 mb-3" }, "ðŸªª Licenses"),
              React.createElement('div', { className: "flex flex-wrap gap-2" },
                enrichedProfile.licenses.map((lic, i) => 
                  React.createElement('span', { key: i, className: "px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm" }, lic)
                )
              ),
              enrichedProfile.compactLicense && React.createElement('p', { className: "mt-2 text-green-600 font-medium" }, "âœ“ Compact/Multi-state License")
            ),
            
            // Certifications
            enrichedProfile.certifications && enrichedProfile.certifications.length > 0 && React.createElement('div', { className: "bg-white rounded-lg shadow-sm p-6" },
              React.createElement('h3', { className: "font-semibold text-gray-900 mb-3" }, "ðŸ“œ Certifications"),
              React.createElement('div', { className: "flex flex-wrap gap-2" },
                enrichedProfile.certifications.map((cert, i) => 
                  React.createElement('span', { key: i, className: "px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm" }, cert)
                )
              )
            ),
            
            // Work History
            React.createElement('div', { className: "bg-white rounded-lg shadow-sm p-6" },
              React.createElement('h3', { className: "font-semibold text-gray-900 mb-4" }, "ðŸ’¼ Work History"),
              React.createElement('div', { className: "space-y-6" },
                (enrichedProfile.workHistory || []).map((job, i) => 
                  React.createElement('div', { key: i, className: "border-l-4 border-blue-500 pl-4" },
                    React.createElement('h4', { className: "font-medium text-gray-900" }, job.title),
                    React.createElement('p', { className: "text-gray-600" }, job.facility, " | ", job.dates),
                    
                    // Enrichment Badge
                    job.enrichment && job.enrichment.matched && React.createElement('div', { className: "mt-2 bg-green-50 border border-green-200 rounded-lg p-3" },
                      React.createElement('p', { className: "text-green-800 font-medium text-sm" }, "âœ“ Hospital Verified"),
                      React.createElement('div', { className: "grid grid-cols-2 gap-2 mt-2 text-sm" },
                        React.createElement('span', { className: "text-gray-600" }, "Beds: ", React.createElement('span', { className: "font-medium" }, job.enrichment.beds)),
                        React.createElement('span', { className: "text-gray-600" }, "Trauma: ", React.createElement('span', { className: "font-medium" }, job.enrichment.traumaLevel || "N/A")),
                        React.createElement('span', { className: "text-gray-600" }, "Teaching: ", React.createElement('span', { className: "font-medium" }, job.enrichment.teaching ? "Yes" : "No")),
                        React.createElement('span', { className: "text-gray-600" }, "EMR: ", React.createElement('span', { className: "font-medium" }, job.enrichment.emr || "Unknown"))
                      )
                    ),
                    
                    // Unit Info
                    job.unitInfo && React.createElement('div', { className: "mt-2 bg-blue-50 border border-blue-200 rounded-lg p-3" },
                      React.createElement('p', { className: "text-blue-800 font-medium text-sm" }, "Unit: ", job.unitInfo.name),
                      React.createElement('p', { className: "text-blue-700 text-sm" }, "Typical Ratio: ", job.unitInfo.typicalRatio, " | Acuity: ", job.unitInfo.acuity)
                    )
                  )
                )
              )
            ),
            
            // Charge Nurse Experience
            enrichedProfile.chargeExperience && React.createElement('div', { className: "bg-yellow-50 border border-yellow-200 rounded-lg p-4" },
              React.createElement('p', { className: "text-yellow-800 font-medium" }, "â­ Charge Nurse Experience Detected")
            ),
            
            // Actions
            React.createElement('div', { className: "flex gap-3" },
              React.createElement('button', {
                onClick: () => { setStep(1); setResumeText(''); setEnrichedProfile(null); setFileName(''); },
                className: "px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50"
              }, "â† Start Over"),
              React.createElement('button', {
                onClick: () => { 
                  const dataStr = JSON.stringify(enrichedProfile, null, 2);
                  const blob = new Blob([dataStr], { type: 'application/json' });
                  const url = URL.createObjectURL(blob);
                  const a = document.createElement('a');
                  a.href = url;
                  a.download = (enrichedProfile.name || 'profile').replace(/[^a-z0-9]/gi, '_') + '_profile.json';
                  a.click();
                },
                className: "px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700"
              }, "â¬‡ Export JSON")
            )
          )
        )
      );
    }

    ReactDOM.render(React.createElement(App), document.getElementById('root'));
  </script>
</body>
</html>
